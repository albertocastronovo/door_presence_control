<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Change Password</title>
  </head>
  <body>
    <h1>Change Password</h1>
    {% if error_message %}
      <p style="color: red;">{{ error_message }}</p>
    {% endif %}
    <form method="POST" action="/reset_link/{{ user }}/{{ code }}">
      <label for="new_password">New Password:</label><br>
      <input type="password" id="new_password" name="new_password"><br>
      <label for="confirm_password">Confirm Password:</label><br>
      <input type="password" id="confirm_password" name="confirm_password"><br>
      <br>
      <input type="submit" value="Submit">
    </form>
    <script>
      const form = document.querySelector('form');
      form.addEventListener('submit', (event) => {
        const newPassword = document.getElementById('new_password');
        const confirmPassword = document.getElementById('confirm_password');
        if (newPassword.value !== confirmPassword.value) {
          event.preventDefault();
          alert('Error: Passwords do not match!');
        }
      });
    </script>
  </body>
</html>